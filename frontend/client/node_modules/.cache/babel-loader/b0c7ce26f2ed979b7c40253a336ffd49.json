{"ast":null,"code":"import _defineProperty from\"/Users/test/Desktop/contact-keeper/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/test/Desktop/contact-keeper/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/test/Desktop/contact-keeper/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext,useEffect}from'react';import AlertContext from'../../context/alert/alertContext';import AuthContext from'../../context/auth/authContext';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var alertContext=useContext(AlertContext);var authContext=useContext(AuthContext);var setAlert=alertContext.setAlert;var register=authContext.register,error=authContext.error,clearErrors=authContext.clearErrors,isAuthenticated=authContext.isAuthenticated;var navigate=useNavigate();useEffect(function(){if(isAuthenticated){navigate('/');}if(error==='User already exists'){setAlert(error,'danger');clearErrors();}// eslint-disable-next-line\n},[error,isAuthenticated]);var _useState=useState({name:'',email:'',password:'',password_confirm:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var name=user.name,email=user.email,password=user.password,password_confirm=user.password_confirm;var onChange=function onChange(e){return setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(name===''||email===''||password===''){setAlert('Please enter all fields','danger');}else if(password!==password_confirm){setAlert('Passwords do not match','danger');}else{register({name:name,email:email,password:password});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Account \",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary\",children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:name,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:email,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:password,onChange:onChange,minLength:\"6\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password_confirm\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password_confirm\",value:password_confirm,onChange:onChange,minLength:\"6\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Register\",className:\"btn btn-primary btn-block\"})]})]});};export default Register;","map":{"version":3,"sources":["/Users/test/Desktop/contact-keeper/client/src/components/auth/Register.js"],"names":["React","useState","useContext","useEffect","AlertContext","AuthContext","useNavigate","Register","alertContext","authContext","setAlert","register","error","clearErrors","isAuthenticated","navigate","name","email","password","password_confirm","user","setUser","onChange","e","target","value","onSubmit","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport AlertContext from '../../context/alert/alertContext';\nimport AuthContext from '../../context/auth/authContext';\nimport { useNavigate } from 'react-router-dom';\n\nconst Register = () => {\n  const alertContext = useContext(AlertContext);\n  const authContext = useContext(AuthContext);\n  \n  const { setAlert } = alertContext;\n  const { register, error, clearErrors, isAuthenticated } = authContext;\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      navigate('/');\n    }\n    \n    if(error === 'User already exists') {\n      setAlert(error, 'danger');\n      clearErrors();\n    }\n    // eslint-disable-next-line\n  }, [error, isAuthenticated]);\n\n  const [user, setUser] = useState({\n    name: '',\n    email: '',\n    password: '',\n    password_confirm: ''\n  });\n\n  const { name, email, password, password_confirm } = user;\n\n  const onChange = e => setUser({ ...user, [e.target.name]: e.target.value });\n\n  const onSubmit = e => {\n    e.preventDefault();\n    if(name === '' || email === '' || password === '') {\n      setAlert('Please enter all fields', 'danger');\n    } else if (password !== password_confirm) {\n      setAlert('Passwords do not match', 'danger');\n    } else {\n      register({\n        name,\n        email,\n        password\n      });\n    }\n  };\n\n  return (\n    <div className='form-container'>\n      <h1>\n        Account <span className=\"text-primary\">Register</span>\n      </h1>\n      <form onSubmit={onSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"name\">Name</label>\n          <input type=\"text\"  name='name' value={name} onChange={onChange} />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"email\">Email</label>\n          <input type=\"email\"  name='email' value={email} onChange={onChange} />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"password\">Password</label>\n          <input type=\"password\"  name='password' value={password} onChange={onChange}  minLength=\"6\"/>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"password_confirm\">Confirm Password</label>\n          <input type=\"password\"  name='password_confirm' value={password_confirm} onChange={onChange} minLength=\"6\"/>\n        </div>\n        <input type=\"submit\" value=\"Register\" className=\"btn btn-primary btn-block\"/>\n      </form>\n    </div>\n    )\n};\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}